{"version":3,"sources":["components/imageGallery/imageGallery.module.css","components/button/button.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/services/ImagesApi.js","components/button/Button.js","components/modal/Modal.js","app/App.js","index.js","components/searchbar/searchbar.module.css","components/modal/modal.module.css","components/imageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","this","props","searchValue","getImages","handleSearchQuery","className","style","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","value","onChange","SearchFormInput","placeholder","Component","ImageGalleryItem","src","alt","largeImage","openModal","onClick","ImageGalleryItemImage","ImageGallery","images","console","log","map","item","key","id","webformatURL","tags","largeImageURL","input","page","axios","get","then","response","data","hits","Button","loadMoreImages","Modal","clickOnCloseBtn","e","code","onClose","clickOnOverlay","target","nodeName","window","addEventListener","document","removeEventListener","Overlay","ModalBtn","App","state","error","isLoading","isShowModal","setState","imagesFetchApi","prevState","catch","finally","handleSearchFormSubmit","preventDefault","closeModal","prevProps","length","scrollBy","top","documentElement","scrollHeight","behavior","position","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7fd651a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3Wt07\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__l6X__\"};","//\tYour API key: 17528324-3082acf682c990c8e2fa3d4c7\n//https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\n//id - уникальный идентификатор\n//webformatURL - ссылка на маленькое изображение для списка карточек\n//largeImageURL - ссылка на большое изображение для модального окна\n\nimport React, { Component } from 'react';\nimport style from './searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  render() {\n    const { searchValue, getImages, handleSearchQuery } = this.props;\n    return (\n      <div>\n        <header className={style.Searchbar}>\n          <form onSubmit={getImages} className={style.SearchForm}>\n            <button type=\"submit\" className={style.SearchFormButton}>\n              <span className={style.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n              name=\"searchInput\"\n              value={searchValue}\n              onChange={handleSearchQuery}\n              className={style.SearchFormInput}\n              type=\"text\"\n              // autocomplete=\"off\"\n              // autofocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n        ;\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport style from './imageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    const { src, alt, largeImage, openModal } = this.props;\n    return (\n      <li\n        onClick={() => {\n          openModal(largeImage);\n        }}\n        className={style.ImageGalleryItem}\n      >\n        <img src={src} alt={alt} className={style.ImageGalleryItemImage} />\n      </li>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport style from './imageGallery.module.css';\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\n\nexport default class ImageGallery extends Component {\n  render() {\n    const { images, openModal } = this.props;\n    console.log('images', images);\n    return (\n      <ul className={style.ImageGallery}>\n        {images.map(item => (\n          <ImageGalleryItem\n            key={item.id}\n            src={item.webformatURL}\n            alt={item.tags}\n            largeImage={item.largeImageURL}\n            openModal={openModal}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n//\n","import axios from \"axios\";\n\nconst API_key = \"17528324-3082acf682c990c8e2fa3d4c7\";\n\nconst imagesFetchApi = (input, page) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${input}&page=${page}&per_page=12&key=${API_key}`\n    )\n    .then((response) => response.data.hits);\n};\nexport default { imagesFetchApi };\n","import React, { Component } from \"react\";\nimport style from \"./button.module.css\";\n\nexport default class Button extends Component {\n  render() {\n    const { loadMoreImages } = this.props;\n    return (\n      <div>\n        <button type=\"button\" className={style.Button} onClick={loadMoreImages}>\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport style from './modal.module.css';\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.clickOnCloseBtn);\n    document.addEventListener('click', this.clickOnOverlay);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.clickOnCloseBtn);\n    document.addEventListener('click', this.clickOnOverlay);\n  }\n\n  clickOnCloseBtn = e => {\n    e.code === 'Escape' && this.props.onClose();\n  };\n\n  clickOnOverlay = e => {\n    (e.target.nodeName === 'DIV' || e.target.nodeName === 'BUTTON') &&\n      this.props.onClose();\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return (\n      <div>\n        <div className={style.Overlay}>\n          <div className={style.Modal}>\n            <img src={largeImage} alt={''} />\n            <button className={style.ModalBtn}>X</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from '../components/searchbar/Searchbar';\nimport ImageGallery from '../components/imageGallery/ImageGallery';\nimport imagesFetchApi from '../components/services/ImagesApi';\nimport Button from '../components/button/Button';\nimport Modal from '../components/modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    searchValue: '',\n    page: 1,\n    error: '',\n    isLoading: false,\n    largeImage: null,\n    isShowModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // const prevQuery = prevState.searchValue;\n    // const nextQuery = this.state.searchValue;\n    // if (prevState.images.length < this.state.images.length) {\n    //   window.scrollBy({\n    //     top: 1000,\n    //     left: 100,\n    //     behavior: \"smooth\",\n    //   });\n    // }\n    if (prevState.images.length !== this.state.images.length) {\n      window.scrollBy({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  getImages = e => {\n    const { searchValue, page } = this.state;\n    this.setState({ isLoading: true });\n\n    imagesFetchApi\n      .imagesFetchApi(searchValue, page)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n        // const crossAxis = document.documentElement.offsetHeight - 150;\n\n        // setTimeout(() => {\n        //   window.scrollTo({\n        //     top: crossAxis,\n        //     behavior: 'smooth',\n        //   });\n        // }, 100);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        console.log('finally');\n        this.setState({ isLoading: false });\n      });\n  };\n  handleSearchFormSubmit = e => {\n    e.preventDefault();\n    this.getImages(this.state.searchValue, this.state.page);\n\n    this.setState({\n      searchValue: this.state.searchValue,\n      page: 1,\n      images: [],\n    });\n  };\n  handleSearchQuery = e => {\n    this.setState({ searchValue: e.target.value });\n  };\n\n  loadMoreImages = e => {\n    const { searchValue, page } = this.state;\n    this.getImages(searchValue, page);\n  };\n\n  openModal = largeImage => {\n    this.setState({ isShowModal: true, largeImage: largeImage });\n  };\n\n  closeModal = () => {\n    this.setState({ isShowModal: false, largeImage: null });\n  };\n\n  render() {\n    const {\n      searchValue,\n      images,\n      isLoading,\n      isShowModal,\n      largeImage,\n    } = this.state;\n    console.log('isLoading', isLoading);\n    return (\n      <div>\n        <Searchbar\n          searchValue={searchValue}\n          handleSearchQuery={this.handleSearchQuery}\n          getImages={this.handleSearchFormSubmit}\n        />\n        {isLoading && (\n          <div style={{ position: 'fixed' }}>\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000}\n            />\n          </div>\n        )}\n        <ImageGallery images={images} openModal={this.openModal} />\n\n        {images.length > 0 && <Button loadMoreImages={this.loadMoreImages} />}\n        {isShowModal && (\n          <Modal onClose={this.closeModal} largeImage={largeImage} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3VK8i\",\"SearchForm\":\"searchbar_SearchForm__pn92P\",\"SearchFormButton\":\"searchbar_SearchFormButton__1EFLt\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Jj-ZB\",\"SearchFormInput\":\"searchbar_SearchFormInput__2L7V0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2PQZK\",\"Modal\":\"modal_Modal__3qVwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2nKCI\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1cGqL\"};"],"sourceRoot":""}